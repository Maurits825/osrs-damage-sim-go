"use strict";(self.webpackChunkosrs_damage_sim=self.webpackChunkosrs_damage_sim||[]).push([[7],{3007:(xt,u,l)=>{l.r(u),l.d(u,{BisCalcModule:()=>Rt});var p=l(177),_=l(8185),f=l(7298),t=l(4438),S=l(4805),b=l(4606),o=l(7187),m=l(2411),v=l(6422);const h=n=>({$implicit:n,attackType:"melee"}),I=n=>({$implicit:n,attackType:"ranged"}),B=n=>({$implicit:n,attackType:"magic"});function R(n,a){1&n&&t.eu8(0)}function k(n,a){if(1&n&&(t.qex(0),t.DNE(1,R,1,0,"ng-container",8),t.bVm()),2&n){const e=a.$implicit;t.XpG(2);const s=t.sdS(2);t.R7$(),t.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",t.eq3(2,h,e))}}function x(n,a){1&n&&t.eu8(0)}function y(n,a){if(1&n&&(t.qex(0),t.DNE(1,x,1,0,"ng-container",8),t.bVm()),2&n){const e=a.$implicit;t.XpG(2);const s=t.sdS(2);t.R7$(),t.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",t.eq3(2,I,e))}}function j(n,a){1&n&&t.eu8(0)}function T(n,a){if(1&n&&(t.qex(0),t.DNE(1,j,1,0,"ng-container",8),t.bVm()),2&n){const e=a.$implicit;t.XpG(2);const s=t.sdS(2);t.R7$(),t.Y8G("ngTemplateOutlet",s)("ngTemplateOutletContext",t.eq3(2,B,e))}}function F(n,a){if(1&n&&(t.j41(0,"div")(1,"h3",3),t.EFF(2),t.k0s(),t.j41(3,"div",4)(4,"h5",5),t.EFF(5,"Melee BiS"),t.k0s(),t.j41(6,"div",6),t.DNE(7,k,2,4,"ng-container",7),t.k0s()(),t.j41(8,"div",4)(9,"h5",5),t.EFF(10,"Ranged BiS"),t.k0s(),t.j41(11,"div",6),t.DNE(12,y,2,4,"ng-container",7),t.k0s()(),t.j41(13,"div",4)(14,"h5",5),t.EFF(15,"Magic BiS"),t.k0s(),t.j41(16,"div",6),t.DNE(17,T,2,4,"ng-container",7),t.k0s()()()),2&n){const e=t.XpG();t.R7$(2),t.JRh(e.bisResults.title),t.R7$(5),t.Y8G("ngForOf",e.bisResults.meleeGearSetups),t.R7$(5),t.Y8G("ngForOf",e.bisResults.rangedGearSetups),t.R7$(5),t.Y8G("ngForOf",e.bisResults.magicGearSetups)}}function G(n,a){if(1&n&&t.nrm(0,"img",16),2&n){const e=t.XpG().$implicit,s=t.XpG(2).$implicit;t.Mz_("src","data:image/png;base64,",s.gear[e].icon,"",t.B4B)}}function $(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",14),t.DNE(2,G,1,2,"img",15),t.k0s(),t.bVm()),2&n){const e=a.$implicit,s=t.XpG(2).$implicit;t.R7$(2),t.Y8G("ngIf",null==s.gear[e]?null:s.gear[e].icon)}}function E(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",13),t.DNE(2,$,3,1,"ng-container",7),t.k0s(),t.bVm()),2&n){const e=a.$implicit;t.R7$(2),t.Y8G("ngForOf",e)}}function D(n,a){if(1&n&&(t.j41(0,"div",21),t.nrm(1,"img",16),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.Mz_("src","assets/img/prayer/",e,".png",t.B4B)}}function O(n,a){if(1&n&&(t.j41(0,"div",21),t.nrm(1,"img",22),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.Mz_("src","assets/img/boosts/",e,".png",t.B4B),t.Y8G("title",e.replaceAll("_"," "))}}function V(n,a){if(1&n&&(t.j41(0,"div",21),t.nrm(1,"img",16),t.nI1(2,"lowercase"),t.EFF(3),t.k0s()),2&n){const e=a.$implicit;t.R7$(),t.Mz_("src","assets/img/stat_drain/",t.bMT(2,3,e.name.replaceAll(" ","_")),".png",t.B4B),t.R7$(2),t.SpI(" ",e.value," ")}}function N(n,a){1&n&&(t.j41(0,"div",23),t.nrm(1,"img",24),t.k0s())}function Y(n,a){1&n&&(t.j41(0,"div",23),t.nrm(1,"img",25),t.k0s())}function X(n,a){if(1&n&&(t.qex(0),t.j41(1,"div",17)(2,"div",18),t.DNE(3,D,2,2,"div",19),t.k0s(),t.j41(4,"div",18),t.DNE(5,O,2,3,"div",19),t.k0s()(),t.j41(6,"div",17)(7,"div",18),t.DNE(8,V,4,5,"div",19),t.k0s(),t.DNE(9,N,2,0,"div",20)(10,Y,2,0,"div",20),t.k0s(),t.bVm()),2&n){const e=t.XpG().attackType,s=t.XpG();t.R7$(3),t.Y8G("ngForOf",s.bisCalcInputSetup.prayers[e]),t.R7$(2),t.Y8G("ngForOf",s.bisCalcInputSetup.gearSetupSettings.boosts),t.R7$(3),t.Y8G("ngForOf",s.bisCalcInputSetup.gearSetupSettings.statDrains),t.R7$(),t.Y8G("ngIf",s.bisCalcInputSetup.isOnSlayerTask),t.R7$(),t.Y8G("ngIf",s.bisCalcInputSetup.isSpecialAttack)}}function M(n,a){if(1&n&&(t.qex(0),t.j41(1,"div"),t.nrm(2,"img",16),t.EFF(3),t.k0s(),t.bVm()),2&n){const e=t.XpG().$implicit;t.R7$(2),t.Mz_("src","assets/img/magic_spells/",e.spell,".png",t.B4B),t.R7$(),t.SpI(" ",e.spell,"")}}function A(n,a){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.k0s()),2&n){const e=t.XpG().$implicit;t.R7$(),t.JRh(e.attackStyle)}}function W(n,a){if(1&n&&(t.j41(0,"div",9)(1,"div",10),t.DNE(2,E,3,1,"ng-container",7),t.k0s(),t.j41(3,"div",11),t.DNE(4,X,11,5,"ng-container",2)(5,M,4,3,"ng-container",12)(6,A,2,1,"ng-template",null,1,t.C5r),t.j41(8,"div"),t.EFF(9),t.nI1(10,"number"),t.k0s(),t.j41(11,"div"),t.EFF(12),t.nI1(13,"maxHit"),t.k0s(),t.j41(14,"div"),t.EFF(15),t.nI1(16,"number"),t.k0s(),t.j41(17,"div"),t.EFF(18),t.k0s()()()),2&n){const e=a.$implicit,s=t.sdS(7),i=t.XpG();t.R7$(2),t.Y8G("ngForOf",i.gearSlotTable),t.R7$(2),t.Y8G("ngIf",i.bisCalcInputSetup.gearSetupSettings),t.R7$(),t.Y8G("ngIf",e.spell)("ngIfElse",s),t.R7$(4),t.SpI("Dps: ",t.i5U(10,8,e.theoreticalDps,"1.3-3"),""),t.R7$(3),t.SpI("Max hit: ",t.bMT(13,11,e.maxHit),""),t.R7$(3),t.SpI("Accuracy: ",t.i5U(16,13,e.accuracy,"1.2-2"),"%"),t.R7$(3),t.SpI("Attack roll: ",e.attackRoll,"")}}let w=(()=>{class n{constructor(e){this.staticDataService=e,this.allGearSlots=Object.values(o.O),this.gearSlotTable=[[null,o.O.Head,o.O.Ammo],[o.O.Cape,o.O.Neck,null],[o.O.Weapon,o.O.Body,o.O.Shield],[null,o.O.Legs,null],[o.O.Hands,o.O.Feet,o.O.Ring]]}ngOnChanges(e){e.bisResults&&this.bisResults&&this.fillAllItems()}fillAllItems(){for(const e of this.bisResults.meleeGearSetups)this.fillGearItems(e);for(const e of this.bisResults.rangedGearSetups)this.fillGearItems(e);for(const e of this.bisResults.magicGearSetups)this.fillGearItems(e)}fillGearItems(e){const s={};for(const i of Object.keys(e.gear)){const c=i,g=e.gear[c].id;if(-1==g)continue;const kt=this.staticDataService.getItem(c,g);s[c]=kt}e.gear=s}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(m.a))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-bis-calc-results"]],inputs:{bisResults:"bisResults",bisCalcInputSetup:"bisCalcInputSetup"},features:[t.OA$],decls:3,vars:1,consts:[["gearViewTemplate",""],["noSpell",""],[4,"ngIf"],[1,"mb-3","fw-light","text-center"],[1,"mb-4","px-2","pt-2"],[1,"fw-light","text-center"],[1,"d-flex","justify-content-between","flex-wrap"],[4,"ngFor","ngForOf"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"d-flex","px-2"],[1,"p-2","me-2"],[1,"ps-2","d-flex","flex-column","justify-content-center"],[4,"ngIf","ngIfElse"],[1,"row","align-items-center"],[1,"col-4","text-center","px-1","mt-1"],[3,"src",4,"ngIf"],[3,"src"],[1,"d-flex"],[1,"d-flex","mx-1"],["class","px-1",4,"ngFor","ngForOf"],["class","mx-1",4,"ngIf"],[1,"px-1"],[3,"src","title"],[1,"mx-1"],["src","assets/img/skills/slayer.png","title","Slayer task",2,"width","25px"],["src","assets/img/other/special_attack_orb.png","title","Special attack",2,"width","25px"]],template:function(s,i){1&s&&t.DNE(0,F,18,4,"div",2)(1,W,19,16,"ng-template",null,0,t.C5r),2&s&&t.Y8G("ngIf",(null==i.bisResults?null:i.bisResults.meleeGearSetups)&&!(null!=i.bisResults&&i.bisResults.error))},dependencies:[p.Sq,p.bT,p.T3,p.GH,p.QX,v.S],encapsulation:2})}}return n})();var z=l(4412),U=l(2330);const d={globalSettings:{npc:null,teamSize:1,accuracyBuff:!1,raidLevel:0,pathLevel:0,overlyDraining:!1,coxScaling:{partyMaxCombatLevel:126,partyAvgMiningLevel:99,partyMaxHpLevel:99,isChallengeMode:!1}},gearSetupSettings:{statDrains:[],combatStats:{attack:99,strength:99,ranged:99,magic:99,hitpoints:99,defence:99},boosts:new Set,attackCycle:0,trailblazerRelics:null},prayers:{magic:new Set(["augury"]),melee:new Set(["piety"]),ranged:new Set(["rigour"])},isOnSlayerTask:!1,isSpecialAttack:!1,excludedWeapons:[]};var P=l(2401),C=l(4167),L=l(3895),J=l(8009),r=l(9417),H=l(6397),Z=l(9620),Q=l(3721),K=l(6017),q=l(2155),tt=l(9797),et=l(3109),nt=l(3541);const st=(n,a)=>a.id;function it(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",20)(1,"div",11)(2,"div",20),t.nrm(3,"img",38),t.k0s(),t.j41(4,"div",39)(5,"app-prayer-selection",40),t.bIt("prayerToggle",function(i){const c=t.eBV(e).$implicit,g=t.XpG(2);return t.Njj(g.toggleAttackTypePrayer(i,c))}),t.k0s()()()()}if(2&n){const e=a.$implicit,s=t.XpG().ngIf,i=t.XpG();t.R7$(3),t.Mz_("src","assets/img/skills/",e,".png",t.B4B),t.R7$(2),t.Y8G("quickPrayers",i.quickPrayers[e])("selectedPrayers",s.prayers[e])}}function at(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",41)(2,"div",7),t.EFF(3,"Attack cycle"),t.k0s(),t.j41(4,"div",22)(5,"app-attack-cycle",42),t.bIt("attackCycleChanged",function(i){t.eBV(e);const c=t.XpG(3);return t.Njj(c.attackCycleChanged(i))}),t.k0s()()(),t.bVm()}if(2&n){const e=t.XpG(2).ngIf;t.R7$(5),t.Y8G("attackCycle",e.gearSetupSettings.attackCycle)}}function ct(n,a){if(1&n&&(t.qex(0),t.DNE(1,at,6,1,"ng-container",4),t.bVm()),2&n){const e=a.ngIf;t.R7$(),t.Y8G("ngIf",e.showAdvancedOptions)}}function lt(n,a){1&n&&(t.j41(0,"span",44),t.EFF(1,"future content"),t.k0s())}function ot(n,a){if(1&n&&(t.j41(0,"div"),t.EFF(1),t.DNE(2,lt,2,0,"span",43),t.k0s()),2&n){const e=a.item;t.R7$(),t.SpI(" ",e.name," "),t.R7$(),t.Y8G("ngIf",e.futureContent)}}function pt(n,a){1&n&&(t.j41(0,"span",50),t.EFF(1,"future content"),t.k0s())}function rt(n,a){if(1&n&&(t.j41(0,"div",45)(1,"div",46),t.nrm(2,"img",38),t.k0s(),t.j41(3,"div",47),t.EFF(4),t.k0s(),t.j41(5,"div",48),t.DNE(6,pt,2,0,"span",49),t.k0s()()),2&n){const e=a.item;t.R7$(2),t.Mz_("src","data:image/png;base64,",e.icon,"",t.B4B),t.R7$(2),t.JRh(e.name),t.R7$(2),t.Y8G("ngIf",e.futureContent)}}function gt(n,a){if(1&n){const e=t.RV6();t.j41(0,"div",33)(1,"div",51)(2,"div",46),t.nrm(3,"img",38),t.k0s(),t.j41(4,"div",47),t.EFF(5),t.k0s()(),t.j41(6,"div")(7,"button",52),t.bIt("click",function(){const i=t.eBV(e).$implicit,c=t.XpG(2);return t.Njj(c.removeExcludedWeapon(i))}),t.EFF(8," X "),t.k0s()()()}if(2&n){const e=a.$implicit;t.R7$(3),t.Mz_("src","data:image/png;base64,",e.icon,"",t.B4B),t.R7$(2),t.JRh(e.name)}}function ut(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"div",5)(2,"div",6)(3,"div",7),t.EFF(4,"Npc Settings"),t.k0s(),t.j41(5,"app-npc-input",8),t.bIt("npcInfoChanged",function(i){t.eBV(e);const c=t.XpG();return t.Njj(c.npcInfoChanged(i))}),t.k0s()()(),t.j41(6,"div",9)(7,"div",7),t.EFF(8,"General Settings"),t.k0s(),t.j41(9,"div",10)(10,"div",11)(11,"div",12)(12,"label",13),t.EFF(13,"Team size"),t.k0s()(),t.j41(14,"div",14)(15,"input",15),t.mxI("ngModelChange",function(i){const c=t.eBV(e).ngIf;return t.DH7(c.globalSettings.teamSize,i)||(c.globalSettings.teamSize=i),t.Njj(i)}),t.k0s()()()(),t.j41(16,"div",10)(17,"div",11)(18,"div",12)(19,"label",16),t.EFF(20,"100% accuracy"),t.k0s()(),t.j41(21,"div",14)(22,"input",17),t.mxI("ngModelChange",function(i){const c=t.eBV(e).ngIf;return t.DH7(c.globalSettings.accuracyBuff,i)||(c.globalSettings.accuracyBuff=i),t.Njj(i)}),t.k0s()()()()(),t.j41(23,"div",9)(24,"div",7),t.EFF(25,"Prayers"),t.k0s(),t.j41(26,"div",14)(27,"div",18),t.DNE(28,it,6,4,"div",19),t.k0s()()(),t.j41(29,"div",9)(30,"div",7),t.EFF(31,"Boost"),t.k0s(),t.j41(32,"div",20)(33,"app-boost-selection",21),t.bIt("boostToggle",function(i){t.eBV(e);const c=t.XpG();return t.Njj(c.toggleBoost(i))}),t.k0s()()(),t.j41(34,"div",9)(35,"div",7),t.EFF(36,"Combat Stats"),t.k0s(),t.j41(37,"div",22)(38,"app-combat-stat-selection",23),t.bIt("combatStatsChanged",function(i){t.eBV(e);const c=t.XpG();return t.Njj(c.combatStatsChanged(i))}),t.k0s()(),t.j41(39,"div",24)(40,"app-highscore-lookup",25),t.bIt("loadCombatStats",function(i){t.eBV(e);const c=t.XpG();return t.Njj(c.loadCombatStats(i))}),t.k0s()()(),t.j41(41,"div",26)(42,"div",7),t.EFF(43,"Other"),t.k0s(),t.j41(44,"div",22)(45,"div",18)(46,"div",12)(47,"label",27),t.EFF(48,"Slayer task"),t.k0s()(),t.j41(49,"div",14)(50,"input",28,0),t.bIt("change",function(){t.eBV(e);const i=t.sdS(51),c=t.XpG();return t.Njj(c.updateBisCalcInputSetup({isOnSlayerTask:i.checked}))}),t.k0s()(),t.j41(52,"div",12)(53,"label",29),t.EFF(54,"Special attack"),t.k0s()(),t.j41(55,"div",14)(56,"input",30,1),t.bIt("change",function(){t.eBV(e);const i=t.sdS(57),c=t.XpG();return t.Njj(c.updateBisCalcInputSetup({isSpecialAttack:i.checked}))}),t.k0s()()()()(),t.DNE(58,ct,2,1,"ng-container",4),t.nI1(59,"async"),t.j41(60,"div",26)(61,"div",7),t.EFF(62,"Stat Drain"),t.k0s(),t.j41(63,"div",31)(64,"app-stat-drain-selection",32),t.bIt("statDrainsChanged",function(i){t.eBV(e);const c=t.XpG();return t.Njj(c.statDrainChanged(i))}),t.k0s()()(),t.j41(65,"div",26)(66,"div",7),t.EFF(67,"Exclude weapons"),t.k0s(),t.j41(68,"div",31)(69,"div",33)(70,"div",34)(71,"app-ng-select-lazy-load",35),t.bIt("valueChanged",function(i){t.eBV(e);const c=t.XpG();return t.Njj(c.excludeWeaponChanged(i))}),t.DNE(72,ot,3,2,"ng-template",null,2,t.C5r)(74,rt,7,4,"ng-template",null,3,t.C5r),t.k0s()(),t.j41(76,"button",36),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.addExcludedWeapon())}),t.nrm(77,"i",37),t.EFF(78," Exclude weapon "),t.k0s()(),t.j41(79,"div"),t.Z7z(80,gt,9,3,"div",33,st),t.k0s()()(),t.bVm()}if(2&n){const e=a.ngIf,s=t.XpG();t.R7$(5),t.Y8G("npcInfo",s.npcInfo),t.R7$(10),t.R50("ngModel",e.globalSettings.teamSize),t.R7$(7),t.R50("ngModel",e.globalSettings.accuracyBuff),t.R7$(6),t.Y8G("ngForOf",s.allAttackTypes),t.R7$(5),t.Y8G("selectedBoosts",e.gearSetupSettings.boosts),t.R7$(5),t.Y8G("combatStats",e.gearSetupSettings.combatStats),t.R7$(12),t.Y8G("ngModel",e.isOnSlayerTask),t.R7$(6),t.Y8G("ngModel",e.isSpecialAttack),t.R7$(2),t.Y8G("ngIf",t.bMT(59,14,s.userSettingsWatch$)),t.R7$(6),t.Y8G("statDrains",e.gearSetupSettings.statDrains),t.R7$(7),t.Y8G("selectedValue",s.selectedExcludeWeapon)("valueType",s.Item)("allValues",s.allGearSlotItems[s.GearSlot.Weapon]),t.R7$(5),t.Y8G("disabled",e.excludedWeapons.length>=10||!s.selectedExcludeWeapon||e.excludedWeapons.includes(s.selectedExcludeWeapon)),t.R7$(4),t.Dyx(e.excludedWeapons)}}let _t=(()=>{class n{constructor(e,s,i){this.sharedSettingsService=e,this.localStorageService=s,this.staticDataService=i,this.bisCalcInputSetupChanged=new t.bkB,this.bisCalcInputSetup$=new z.t(d),this.showPathLevel=!1,this.showRaidLevel=!1,this.showIsChallengeMode=!1,this.allAttackTypes=U.V,this.quickPrayers={magic:new Set(["augury"]),melee:new Set(["piety"]),ranged:new Set(["rigour"])},this.GearSlot=o.O,this.npcInfo=(0,C.J)(d.globalSettings)}ngOnInit(){this.userSettingsWatch$=this.localStorageService.userSettingsWatch$,this.bisCalcInputSetup$.subscribe(e=>this.bisCalcInputSetupChanged.emit(e)),this.staticDataService.allGearSlotItems$.subscribe(e=>this.allGearSlotItems=e)}updateBisCalcInputSetup(e){const s=(0,P.A)(this.bisCalcInputSetup$.getValue(),e);this.bisCalcInputSetup$.next(s)}updateBisCalcInputSetupFn(e){const s=this.bisCalcInputSetup$.getValue();e(s),this.bisCalcInputSetup$.next(s)}npcInfoChanged(e){this.updateBisCalcInputSetup({globalSettings:(0,C.T)(e)})}toggleBoost(e){const s=this.bisCalcInputSetup$.getValue().gearSetupSettings.boosts;this.sharedSettingsService.toggleBoost(e,s),this.updateBisCalcInputSetup({gearSetupSettings:{boosts:s}})}toggleAttackTypePrayer(e,s){const i=this.bisCalcInputSetup$.getValue().prayers[s];this.sharedSettingsService.togglePrayer(e,i),this.updateBisCalcInputSetupFn(c=>c.prayers[s]=i)}combatStatsChanged(e){this.updateBisCalcInputSetup({gearSetupSettings:{combatStats:e}})}loadCombatStats(e){this.updateBisCalcInputSetup({gearSetupSettings:{combatStats:e}})}statDrainChanged(e){this.updateBisCalcInputSetup({gearSetupSettings:{statDrains:e}})}attackCycleChanged(e){this.updateBisCalcInputSetup({gearSetupSettings:{attackCycle:e}})}excludeWeaponChanged(e){this.selectedExcludeWeapon=e}addExcludedWeapon(){this.updateBisCalcInputSetupFn(e=>e.excludedWeapons.push(this.selectedExcludeWeapon))}removeExcludedWeapon(e){this.updateBisCalcInputSetupFn(s=>{const i=s.excludedWeapons.indexOf(e);i>-1&&s.excludedWeapons.splice(i,1)})}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(L.u),t.rXU(J.s),t.rXU(m.a))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-bis-calc-settings"]],outputs:{bisCalcInputSetupChanged:"bisCalcInputSetupChanged"},decls:2,vars:3,consts:[["isOnSlayerTask",""],["isSpecialAttack",""],["dropdownLabel",""],["dropdownOptions",""],[4,"ngIf"],[1,"mb-4"],[1,"row","mb-1","align-items-center"],[1,"col-2"],[1,"col-10","col-xxl-6",3,"npcInfoChanged","npcInfo"],[1,"row","mb-4","align-items-center"],[1,"col","col-sm-3"],[1,"row","align-items-center"],[1,"col-auto","pe-0"],["for","teamSize"],[1,"col"],["id","teamSize","type","number","min","1","max","100",1,"form-control",3,"ngModelChange","ngModel"],["for","accuracyBuff"],["id","accuracyBuff","type","checkbox",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"row"],["class","col-auto",4,"ngFor","ngForOf"],[1,"col-auto"],[3,"boostToggle","selectedBoosts"],[1,"col","col-lg-6","col-xl-6"],[3,"combatStatsChanged","combatStats"],[1,"col","ms-3"],[3,"loadCombatStats"],[1,"row","mb-4"],["for","isOnSlayerTask"],["id","isOnSlayerTask","type","checkbox",1,"form-check-input",3,"change","ngModel"],["for","isSpecialAttack"],["id","isSpecialAttack","type","checkbox",1,"form-check-input",3,"change","ngModel"],[1,"col-10","col-lg-8","col-xl-6"],[3,"statDrainsChanged","statDrains"],[1,"d-flex","mb-1"],[1,"flex-grow-1","me-2"],["searchProperty","name",3,"valueChanged","selectedValue","valueType","allValues"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"bi","bi-plus"],[3,"src"],[1,"col-auto","me-4"],[3,"prayerToggle","quickPrayers","selectedPrayers"],[1,"row","mb-3","align-items-center"],[3,"attackCycleChanged","attackCycle"],["class","ms-2 badge rounded-pill bg-secondary",4,"ngIf"],[1,"ms-2","badge","rounded-pill","bg-secondary"],[1,"d-flex","align-items-center"],[1,"text-center",2,"flex","0 0 35px"],[1,"ps-2"],[1,"ms-2"],["class","badge rounded-pill bg-secondary",4,"ngIf"],[1,"badge","rounded-pill","bg-secondary"],[1,"flex-grow-1","d-flex","align-items-center"],["type","button",1,"btn","btn-outline-danger","btn-sm",3,"click"]],template:function(s,i){1&s&&(t.DNE(0,ut,82,16,"ng-container",4),t.nI1(1,"async")),2&s&&t.Y8G("ngIf",t.bMT(1,1,i.allGearSlotItems&&i.bisCalcInputSetup$))},dependencies:[p.Sq,p.bT,r.me,r.Q0,r.Zm,r.BC,r.VZ,r.zX,r.vS,H.V,Z.L,Q.p,K.o,q.K,tt.N,et.a,nt.S,p.Jj],encapsulation:2})}}return n})();function mt(n,a){if(1&n&&(t.j41(0,"div",12),t.nrm(1,"app-bis-calc-results",13),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.Y8G("bisResults",e.bisResults)("bisCalcInputSetup",e.bisCalcInputSetup)}}function dt(n,a){if(1&n&&(t.qex(0),t.j41(1,"button",14),t.nrm(2,"span",15),t.j41(3,"span",16),t.EFF(4," Loading..."),t.k0s()(),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("disabled",e.loading)}}function Ct(n,a){if(1&n){const e=t.RV6();t.qex(0),t.j41(1,"button",17),t.bIt("click",function(){t.eBV(e);const i=t.XpG();return t.Njj(i.runBisCalc())}),t.j41(2,"span",16),t.EFF(3,"Run BiS Calculator"),t.k0s()(),t.bVm()}}function ft(n,a){1&n&&(t.j41(0,"div"),t.EFF(1,"\xa0"),t.k0s())}function St(n,a){1&n&&(t.j41(0,"div",20),t.EFF(1,"BiS calculator done, results above!"),t.k0s())}function bt(n,a){if(1&n&&(t.j41(0,"div",21),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.JRh(e.bisResults.error)}}function vt(n,a){if(1&n&&(t.qex(0),t.DNE(1,St,2,0,"div",18)(2,bt,2,1,"div",19),t.bVm()),2&n){const e=t.XpG();t.R7$(),t.Y8G("ngIf",e.bisResults&&!(null!=e.bisResults&&e.bisResults.error)),t.R7$(),t.Y8G("ngIf",null==e.bisResults?null:e.bisResults.error)}}const ht=[{path:"",component:(()=>{class n{constructor(e,s){this.damageSimservice=e,this.inputSetupService=s,this.loading=!1}onBisCalcInputSetupChanged(e){this.currentBisCalcInputSetup=e}runBisCalc(){this.loading=!0,this.clearResults();const e=this.inputSetupService.convertInputObjectToJson(this.currentBisCalcInputSetup);this.damageSimservice.runBisCalc(e).subscribe({next:s=>{this.loading=!1,this.bisResults=s,this.bisCalcInputSetup=(0,f.A)(this.currentBisCalcInputSetup)},error:({error:{error:s}})=>{this.loading=!1;const i=s[0].toUpperCase()+s.slice(1);this.bisResults={...this.bisResults,error:i}}})}clearResults(){this.bisResults=null}static{this.\u0275fac=function(s){return new(s||n)(t.rXU(S.i),t.rXU(b.m))}}static{this.\u0275cmp=t.VBU({type:n,selectors:[["app-bis-calc"]],decls:17,vars:5,consts:[[1,"container"],[1,"d-flex","align-items-center","justify-content-center","mb-4"],["src","assets/img/menu/bis-detail.png",1,"img-fluid",2,"width","70px"],[1,"ms-2"],[1,"display-1"],["class","mb-2",4,"ngIf"],[1,"row","mb-4"],[3,"bisCalcInputSetupChanged"],[1,"mb-4"],[1,"d-flex","mb-1"],["role","group",1,"flex-fill","btn-group","btn-group-lg"],[4,"ngIf"],[1,"mb-2"],[3,"bisResults","bisCalcInputSetup"],["type","button",1,"btn","btn-primary",3,"disabled"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"],[1,"sr-only"],["type","button",1,"btn","btn-primary",3,"click"],["class","text-success",4,"ngIf"],["class","text-danger",4,"ngIf"],[1,"text-success"],[1,"text-danger"]],template:function(s,i){1&s&&(t.j41(0,"div",0)(1,"div",1)(2,"div"),t.nrm(3,"img",2),t.k0s(),t.j41(4,"div",3)(5,"h1",4),t.EFF(6,"BiS Calculator"),t.k0s()()(),t.DNE(7,mt,2,2,"div",5),t.nrm(8,"hr",6),t.j41(9,"app-bis-calc-settings",7),t.bIt("bisCalcInputSetupChanged",function(g){return i.onBisCalcInputSetupChanged(g)}),t.k0s(),t.j41(10,"div",8)(11,"div",9)(12,"div",10),t.DNE(13,dt,5,1,"ng-container",11)(14,Ct,4,0,"ng-container",11),t.k0s()(),t.DNE(15,ft,2,0,"div",11)(16,vt,3,2,"ng-container",11),t.k0s()()),2&s&&(t.R7$(7),t.Y8G("ngIf",i.bisResults),t.R7$(6),t.Y8G("ngIf",i.loading),t.R7$(),t.Y8G("ngIf",!i.loading),t.R7$(),t.Y8G("ngIf",i.loading),t.R7$(),t.Y8G("ngIf",!i.loading))},dependencies:[p.bT,w,_t],encapsulation:2})}}return n})()}];let It=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[_.iI.forChild(ht),_.iI]})}}return n})();var Bt=l(5241);let Rt=(()=>{class n{static{this.\u0275fac=function(s){return new(s||n)}}static{this.\u0275mod=t.$C({type:n})}static{this.\u0275inj=t.G2t({imports:[p.MD,r.YN,It,Bt.T]})}}return n})()}}]);